# ğŸ§© Code-to-Image Generator

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-16%2B-green.svg)](https://nodejs.org/)

> [English version](README.md)

Convertit un rÃ©pertoire entier de code source en une seule image PNG gÃ©ante. Une astuce pratique pour contourner les limites de contexte des IA â€” au lieu d'envoyer 10 000+ lignes de code en texte, vous envoyez une image compacte qui contient tout.

## ğŸš€ FonctionnalitÃ©s

- âœ… Lit rÃ©cursivement tous les fichiers d'un dossier (ex: `src/`)
- âœ… Inclut le nom de chaque fichier comme en-tÃªte avant son contenu
- âœ… Rend tout le code en texte monospace sur fond blanc
- âœ… Produit une seule image PNG gÃ©ante (`src_code_full.png`)
- âœ… Recadre automatiquement si la hauteur dÃ©passe ~40 000 px (limite mÃ©moire)

## ğŸ§  Pourquoi ?

Les grands modÃ¨les de langage (LLM) ont une limite de contexte, ce qui signifie qu'ils ne peuvent pas traiter de trÃ¨s longues bases de code Ã  la fois. En transformant le code en image, vous pouvez toujours partager ou visualiser d'Ã©normes projets en un seul artefact, ou laisser une IA le "voir" via l'entrÃ©e d'image.

## ğŸ“¦ Installation

```bash
npm install canvas
# ou
yarn add canvas
```

Sur certains systÃ¨mes, vous pourriez avoir besoin d'installer des dÃ©pendances systÃ¨me pour `canvas` :

**Ubuntu/Debian :**
```bash
sudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev
```

**macOS :**
```bash
brew install pkg-config cairo pango libpng jpeg giflib librsvg
```

**Windows :**
Suivez le [guide d'installation node-canvas pour Windows](https://github.com/Automattic/node-canvas/wiki/Installation:-Windows)

## âš™ï¸ Utilisation

### Usage basique

```bash
node code_to_image.mjs
```

Par dÃ©faut, cela lit le dossier `./src` et gÃ©nÃ¨re `src_code_full.png`.

### Personnalisation

Modifiez les paramÃ¨tres directement dans le script :

```javascript
generateImage("./src");  // Changez le chemin source
generateImage("./src", "mon_fichier_perso.png");  // Nom de fichier personnalisÃ©
```

## ğŸ“ Structure du code

```javascript
import fs from "fs";
import path from "path";
import { createCanvas } from "canvas";

function listFiles(dir) {
  // Lit rÃ©cursivement tous les fichiers
}

function generateImage(rootDir, outputFile = "src_code_full.png") {
  // GÃ©nÃ¨re l'image PNG finale
}

generateImage("./src");
```

## ğŸ”’ ConsidÃ©rations de sÃ©curitÃ© et confidentialitÃ©

âš ï¸ **Important :** Convertir du code en image ne le rend PAS sÃ»r pour un partage public.

- **ConfidentialitÃ© du code** â€“ Traitez tout code sensible ou propriÃ©taire avec prÃ©caution
- **ConfidentialitÃ© des LLM** â€“ Avant d'envoyer l'image Ã  un LLM, assurez-vous que le modÃ¨le ou service respecte la confidentialitÃ© des donnÃ©es et ne conserve pas votre code
- **Usage interne recommandÃ©** â€“ Pour les projets sensibles, utilisez cet outil localement plutÃ´t que d'envoyer des images Ã  des API tierces
- **Chiffrement optionnel** â€“ Envisagez de chiffrer ou d'obfusquer le code si vous devez partager des images en externe

## ğŸ’¡ Cas d'usage

- ğŸ“Š Visualiser de gros projets en un coup d'Å“il
- ğŸ” Faire des revues de code massives
- ğŸ¤– PrÃ©parer des bases de code pour les LLM avec entrÃ©e d'image
- ğŸ“¸ CrÃ©er des snapshots de code pour documentation
- ğŸ“ Partager du code dans des prÃ©sentations sans copier-coller

## ğŸ› ï¸ Exemple de sortie

L'image gÃ©nÃ©rÃ©e contiendra :

```
# ./app/page.tsx
export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-between p-24">
      <h1>Welcome to Next.js</h1>
    </main>
  );
}

# ./app/layout.tsx
import type { Metadata } from 'next';
import './globals.css';

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  );
}

# ./components/Header.tsx
export function Header() {
  return (
    <header className="border-b">
      <nav className="container mx-auto px-4 py-3">
        <h1>My Next.js App</h1>
      </nav>
    </header>
  );
}
```

## âš¡ Limitations

- La hauteur maximale est limitÃ©e Ã  **40 000 pixels** pour des raisons de mÃ©moire
- Les fichiers trÃ¨s volumineux peuvent prendre du temps Ã  traiter
- Seuls les fichiers texte sont inclus (pas les binaires)
- L'image peut devenir trÃ¨s lourde pour de grosses bases de code

## ğŸ¨ Configuration

Vous pouvez personnaliser l'apparence en modifiant ces variables dans le script :

```javascript
const charsPerLine = 240;  // CaractÃ¨res par ligne
const fontSize = 12;        // Taille de police en pixels
const lineHeight = 14;      // Hauteur de ligne en pixels
const maxHeight = 40000;    // Hauteur maximale de l'image
```

## ğŸ“„ Licence

Licence MIT - voir le fichier [LICENSE](LICENSE) pour plus de dÃ©tails.

## ğŸ¤ Contribution

Les contributions sont les bienvenues ! N'hÃ©sitez pas Ã  :

1. Fork le projet
2. CrÃ©er une branche feature (`git checkout -b feature/SuperFeature`)
3. Commit vos changements (`git commit -m 'Ajout d'une SuperFeature'`)
4. Push vers la branche (`git push origin feature/SuperFeature`)
5. Ouvrir une Pull Request

## ğŸ‘¨â€ğŸ’» Auteur

**Thierry Sudan**
- GitHub: [@thierry-sudan](https://github.com/thierry-sudan)

## ğŸ™ Remerciements

- Construit avec [node-canvas](https://github.com/Automattic/node-canvas)
- InspirÃ© par le besoin de contourner les limites de contexte des LLM

---

â­ Si ce projet vous est utile, n'hÃ©sitez pas Ã  lui donner une Ã©toile sur GitHub !
