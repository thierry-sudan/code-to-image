# ğŸ§© Code-to-Image Generator

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-16%2B-green.svg)](https://nodejs.org/)

> [Version franÃ§aise](README.fr.md)

Convert an entire source code directory into a single giant PNG image. A practical trick to bypass AI context limits â€” instead of sending 10,000+ lines of code as text, you can send one compact image that contains everything.

## ğŸš€ Features

- âœ… Recursively reads all files from a given folder (e.g., `src/`)
- âœ… Includes each file name as a header before its contents
- âœ… Renders the full code as monospaced text on a white background
- âœ… Produces a single giant PNG image (`src_code_full.png`)
- âœ… Automatically crops if the image height exceeds ~40,000 px (memory limit)

## ğŸ§  Why?

Large language models (LLMs) have a context window limit, meaning they can't process very long codebases at once. By turning code into an image, you can still share or visualize huge projects in a single artifact, or let an AI "see" it via image input.

## ğŸ“¦ Installation

```bash
npm install canvas
# or
yarn add canvas
```

On some systems, you might need to install system dependencies for `canvas`:

**Ubuntu/Debian:**
```bash
sudo apt-get install build-essential libcairo2-dev libpango1.0-dev libjpeg-dev libgif-dev librsvg2-dev
```

**macOS:**
```bash
brew install pkg-config cairo pango libpng jpeg giflib librsvg
```

**Windows:**
Follow the [node-canvas Windows installation guide](https://github.com/Automattic/node-canvas/wiki/Installation:-Windows)

## âš™ï¸ Usage

### Basic usage

```bash
node code_to_image.mjs
```

By default, this reads the `./src` folder and generates `src_code_full.png`.

### Customization

Modify the parameters directly in the script:

```javascript
generateImage("./src");  // Change the source path
generateImage("./src", "my_custom_output.png");  // Custom output filename
```

## ğŸ“ Code structure

```javascript
import fs from "fs";
import path from "path";
import { createCanvas } from "canvas";

function listFiles(dir) {
  // Recursively reads all files
}

function generateImage(rootDir, outputFile = "src_code_full.png") {
  // Generates the final PNG image
}

generateImage("./src");
```

## ğŸ”’ Security & Privacy Considerations

âš ï¸ **Important:** Converting code to an image does NOT make it safe to share publicly.

- **Code confidentiality** â€“ Treat any sensitive or proprietary code carefully
- **LLM privacy** â€“ Before feeding the image into any LLM, ensure the model or service respects data privacy and doesn't retain your code
- **Internal use recommended** â€“ For sensitive projects, use this tool locally rather than sending images to third-party APIs
- **Optional encryption** â€“ Consider encrypting or obfuscating code if you must share images externally

## ğŸ’¡ Use cases

- ğŸ“Š Visualize large projects at a glance
- ğŸ” Conduct massive code reviews
- ğŸ¤– Prepare codebases for LLMs with image input
- ğŸ“¸ Create code snapshots for documentation
- ğŸ“ Share code in presentations without copy-paste

## ğŸ› ï¸ Example output

The generated image will contain:

```
# ./app/page.tsx
export default function Home() {
  return (
    <main className="flex min-h-screen flex-col items-center justify-between p-24">
      <h1>Welcome to Next.js</h1>
    </main>
  );
}

# ./app/layout.tsx
import type { Metadata } from 'next';
import './globals.css';

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  );
}

# ./components/Header.tsx
export function Header() {
  return (
    <header className="border-b">
      <nav className="container mx-auto px-4 py-3">
        <h1>My Next.js App</h1>
      </nav>
    </header>
  );
}
```

## âš¡ Limitations

- Maximum height is limited to **40,000 pixels** for memory reasons
- Very large files may take time to process
- Only text files are included (no binaries)
- The image can become very large for big codebases

## ğŸ¨ Configuration

You can customize the appearance by modifying these variables in the script:

```javascript
const charsPerLine = 240;  // Characters per line
const fontSize = 12;        // Font size in pixels
const lineHeight = 14;      // Line height in pixels
const maxHeight = 40000;    // Maximum image height
```

## ğŸ“„ License

MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ¤ Contributing

Contributions are welcome! Feel free to:

1. Fork the project
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ‘¨â€ğŸ’» Author

**Thierry Sudan**
- GitHub: [@thierry-sudan](https://github.com/thierry-sudan)

## ğŸ™ Acknowledgments

- Built with [node-canvas](https://github.com/Automattic/node-canvas)
- Inspired by the need to work around LLM context limits

---

â­ If you find this project useful, please consider giving it a star on GitHub!
